<include target="__header.html" />
<form class="x_form-horizontal" action="./" method="post" id="auth2fa">
	<input type="hidden" name="module" value="auth2fa" />
	<input type="hidden" name="act" value="procAuth2faAdminInsertConfig" />
	<input type="hidden" name="success_return_url" value="{getRequestUriByServerEnviroment()}" />
	<input type="hidden" name="xe_validator_id" value="modules/auth2fa/tpl/config/1" />
	
	<div class="message {$XE_VALIDATOR_MESSAGE_TYPE}" cond="$XE_VALIDATOR_MESSAGE && $XE_VALIDATOR_ID == 'modules/auth2fa/tpl/config/1'">
		<p>{$XE_VALIDATOR_MESSAGE}</p>
	</div>

	<section class="section">
		<h1>기본 설정</h1>
		<div class="x_control-group">
			<label class="x_control-label" for="module_enabled">2FA 인증기능 사용</label>
			<div class="x_controls">
				<select name="module_enabled" id="module_enabled">
					<option value="Y" selected="selected"|cond="$auth2fa_config->module_enabled == 'Y'">{$lang->cmd_yes}</option>
					<option value="N" selected="selected"|cond="$auth2fa_config->module_enabled != 'Y'">{$lang->cmd_no}</option>
				</select><br>
				2FA 기능을 사용합니다.
			</div>
		</div>

		<div class="x_control-group">
			<label class="x_control-label">2FA 인증 방식</label>
			<div class="x_controls">
				<!--@foreach($auth_type as $cd => $nm)-->
				<label class="no-block"><input type="checkbox" value="{$cd}" name="auth_allowed_type[]" checked="checked"|cond="is_array($auth2fa_config->auth_allowed_type) && in_array($cd, $auth2fa_config->auth_allowed_type)">&nbsp;{$nm}</label>&nbsp;&nbsp;
				<!--@endforeach-->
				<br>
				유저가 사용할 수 있는 인증 방식을 선택해주세요.
			</div>
		</div>
	</section>
	
	<section class="section">
		<h1>API 설정</h1>
		<div class="x_control-group">
			<label class="x_control-label" for="authy_api_key">Authy API Key</label>
			<div class="x_controls">
				<input type="text" id="authy_api_key" name="authy_api_key" value="{$auth2fa_config->authy_api_key}">
			</div>
		</div>
	</section>

	<section class="section">
		<h1>스킨설정</h1>
		<div class="x_control-group">
			<label class="x_control-label" for="skin">{$lang->skin}</label>
			<div class="x_controls">
				<select name="skin" id="skin" onchange="doDisplaySkinColorset(this); return false;">
					<option loop="$skin_list => $key, $val" value="{$key}" selected="selected"|cond="$config->skin == $key">
						{$val->title} ({escape($key)})
					</option>
				</select>
			</div>
		</div>
	</section>
	
	<div class="btnArea x_clearfix">
		<button type="submit" class="x_btn x_btn-primary x_pull-right">{$lang->cmd_registration}</button>
	</div>
	
</form>
